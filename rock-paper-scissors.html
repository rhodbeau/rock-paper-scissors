<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h3>First to 5 wins</h3>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>

    <div class="results" style="white-space: pre-line;"></div>

    <script>

        let results = document.querySelector('.results');
        let userTally = 0;
        let cpuTally = 0;

        //Get computer choice
        function getComputerChoice() {

            //Get random number between 0 and 3
            const random = Math.floor(Math.random() * 3);

            //Define array to hold choices
            const choices = ["rock", "paper", "scissors"];

            //Use random number to choose from array
            const computerChoice = choices[random];

            //Return choice
            return computerChoice;
        }


        //Play round that takes user choice (case insensitive) and computer choice 
        function playRound(playerSelection, computerSelection) {
            
            //Make player selection all lower case
            playerSelection = playerSelection.toLowerCase();

            //Compare choices and return whether user won or lost
            if (playerSelection === "rock") {
                if (computerSelection === "paper") {
                    cpuTally++;
                    results.textContent = `User: ${userTally} Computer: ${cpuTally}`;
                    results.textContent += "\r\nYou lose! Paper beats Rock";
                }
                else if (computerSelection === "scissors") {
                    userTally++;
                    results.textContent = `User: ${userTally} Computer: ${cpuTally}`;
                    results.textContent += "\r\nYou win! Rock beats Scissors";
                }
                else {
                    results.textContent = `User: ${userTally} Computer: ${cpuTally}`;
                    results.textContent += "\r\nIt's a tie!\r\n";
                }
            }
            else if (playerSelection === "paper") {
                if (computerSelection === "rock") {
                    userTally++;
                    results.textContent = `User: ${userTally} Computer: ${cpuTally}`;
                    results.textContent += "\r\nYou win! Paper beats Rock\r\n";
                }
                else if (computerSelection === "scissors") {
                    cpuTally++;
                    results.textContent = `User: ${userTally} Computer: ${cpuTally}`;
                    results.textContent += "\r\nYou lose! Scissors beat Paper\r\n";
                }
                else {
                    results.textContent = `User: ${userTally} Computer: ${cpuTally}`;
                    results.textContent += "\r\nIt's a tie!\r\n";
                }
            }
            else if (playerSelection === "scissors") {
                if (computerSelection === "paper") {
                    userTally++;
                    results.textContent = `User: ${userTally} Computer: ${cpuTally}`;
                    results.textContent += "\r\nYou win! Scissors beat Paper\r\n";
                }
                else if (computerSelection === "rock") {
                    cpuTally++;
                    results.textContent = `User: ${userTally} Computer: ${cpuTally}`;
                    results.textContent += "\r\nYou lose! Rock beats Scissors\r\n";
                }
                else {
                    results.textContent = `User: ${userTally} Computer: ${cpuTally}`;
                    results.textContent += "\r\nIt's a tie!\r\n";
                }
            }

            if (userTally == 5){
                results.textContent = `User: ${userTally} Computer: ${cpuTally}`;
                results.textContent += '\r\nWINNER WINNER CHICKEN DINNER!';
                userTally = 0;
                cpuTally = 0;
            }
            else if (cpuTally == 5){
                results.textContent = `User: ${userTally} Computer: ${cpuTally}`;
                results.textContent += '\r\nSorry, you lost. Better luck next time!';
                userTally = 0;
                cpuTally = 0;
            }
        }

        const btns = document.querySelectorAll('button');

        btns.forEach((button) => {
            button.addEventListener('click', () => {
                playRound(button.id, getComputerChoice());
            });
        });


    </script>
</body>
</html>